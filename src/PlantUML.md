# Шпаргалка работе с PlantUML

## Диаграмма последовательностей
Диаграмма последовательностей – одна из двух диаграмм взаимодействия. Она отображает последовательность, в которой объекты в процессе взаимодействия 
обмениваются сообщениями.

#### Объект
В UML объект на диаграмме последовательности изображается в виде прямоугольника, содержащего подчеркнутое имя объекта.

Существует три способа именования объектов:

- имя объекта и имя класса `«object: class»`. <br>
- имя класса, т.е. это анонимный объект `«: class»`. <br>
- имя объекта `«object»`.

#### Линия жизни
Это пунктирная линия, идущая вниз от значка объекта на временной диаграмме, которая указывает, как долго объект существует.

#### Фокус управления
Это символ периода времени, в течение которого объект будет выполнять 
соответствующую операцию. На диаграмме он представлен небольшим прямоугольником.
Верх и низ прямоугольника соответствуют времени начала и завершения соответственно.

#### Сообщения
- <u>Синхронное сообщение</u> используется, когда отправитель ждет, пока приемник обработает сообщение и вернется, прежде чем продолжить с другим 
  сообщением.
- <u>Aсинхронное сообщение</u> используется, когда вызывающая сторона не ждет, пока приемник обработает сообщение и вернется, прежде чем отправить 
  другие сообщения другим объектам в системе. 
- <u>Возвращаемое сообщение</u> используется для указания на то, что приемник сообщения закончил обработку сообщения и возвращает управление 
  вызывающему абоненту.

#### Время жизни
Участники не обязательно живут в течение всего времени взаимодействия диаграммы последовательности. Участники могут создаваться и уничтожаться в соответствии с передаваемыми сообщениями.

#### Общий вид
Порядок объявления участников определяет их порядок слева направо на диаграмме, а порядок событий - это порядок сверху вниз.

#### Создание диаграммы
При использовании ключевого слова `participant` возможно получить контроль над отображением
участников. Появляется объект и его линия жизни.

Создание сообщения от одного объекта к другому:
`objectFrom -> objectTo : message`

Объект может посылать сообщения сам себе: `object -> object : message`

`activate` и `deactivate` используются чтобы обозначить активацию участника (фокус управления).
Линия существования появляется в момент активации участника.

`activate` и `deactivate` применяются к предыдущему сообщению.

`destroy` обозначает конец линии существования участника.

## Диаграмма классов 

Диаграмма классов — это структурная диаграмма языка моделирования UML, демонстрирующая общую структуру иерархии классов системы, их коопераций, 
атрибутов (полей), методов, интерфейсов и взаимосвязей (отношений) между ними.

### Класс
Это элемент диаграммы, обозначающий множество объектов, обладающих одинаковой внутренней структурой, поведением и отношениями с объектами 
других классов. 
<br> <br> Для создания класса необходимо указать слово `class`. 
<br> <br> Изображается класс на диаграмме в виде прямоугольника, 
разделённого на три 
секции:

- Имя класса
- Список полей класса
- Список методов класса

Для статических элементов указывается слово `static`. Чтобы отличать статические элементы класса от обычных, статические поля и методы
подчёркиваются.

Для абстрактных элементов указывается слово `abstract`. Чтобы отличать абстрактные элементы класса от обычных, абстрактные поля и методы
выделяются курсивом.

1. Обычно в качестве имени класса выбирается существительное в единственном числе. Это имя должно быть уникальным в пределах диаграммы. Если имя 
класса 
состоит из нескольких слов, они записываются слитно в стиле "CamelCase".

2. В общем случае, каждое поле класса должно описываться следующим образом: <br>
`<уровень видисоти><название поля>:<тип поля>=<начальное значение>`

Уровень видимости - свойство поля, которое показывает, из какой части программы можно обратиться к данному полю.

- `+` - открытое поле. Аналог public в языках программирования. Означает, что к полю можно обратиться из любой части программы.
- `-` - закрытое поле. Аналог private в языках программирования. Означает, что получить доступ к полю можно только внутри класса.
- `#` - защищённое поле. Аналог protected в языках программирования. Означает, что получить доступ к полю можно внутри класса и внутри производных 
  классов.

`skinparam classAttributeIconSize 0` применяется чтобы отключить отображение значков.

3. В общем случае, каждый метод класса должен описываться следующим образом: <br>
`<уровень видисоти><название метода>(список аргументов):<тип возвращаемого значения>`

Аргументы методов в общем случае описываются следующим образом:
`<имя аргумента>:<тип аргумента>` и указыываются через запятую.


### Другие элементы диаграммы
Можно использовать `abstract` и `interface` для определения абстрактных классов или интерфейсов, а также `annotation` и `enum` 
для определения аннотаций или перечислений.

### Отношения между элементами диаграммы

- #### Отношение ассоциации `<--` (сплошная линия с обычной стрелкой)

Используется, чтобы показать, что между классами существует некоторая связь. Обычно с помощью него на диаграмме 
классов показывают, что один класс пользуется функционалом другого класса.
<br> <br> Стрелка ассоциации направлена от класса пользователя к классу владельцу 
используемой функциональности. 


- #### Отношение зависимости `<..` (пунктирная линия с обычной стрелкой)

Используется, чтобы показать, что изменение одного класса требует изменение другого класса.
<br> <br> Стрелка отношения зависимости направлена от зависимого класса к независимому.


- #### Отношение наследования/обобщения `<|--` (сплошная линия с треугольной стрелкой)

Используется, чтобы показать, что один класс является родителем (базовым классом или суперклассом) для другого класса (потомка, производного класса).
<br> <br> Стрелка отношения наследования направлена от производного класса к базовому.


- #### Отношение агрегации `o--` (сплошная линия с полым ромбом)

Показывает, что один из классов включает в себя другой класс в качестве составной части. При этом класс-часть может существовать обособленно от 
класса-целого.
<br> <br> Стрелка отношения агрегации направлена от класса-части к классу-целому.


- #### Отношение композиции `*--` (сплошная линия с сплошным ромбом)

Является частным случаем отношения агрегации. Отличие – классы-части, которые соединяются с классом-целым, не могут 
существовать обособленно.
<br> <br> Стрелка отношения композиции направлена от класса-части к классу-целому.


- #### Отношение реализации/имплементации `<|..` (пунктирная линия с треугольной стрелкой)

Это отношение между двумя элементами модели, в котором один элемент модели (клиент) реализует поведение, указанное другим 
элементом модели (поставщиком). Как правило, это отношение между классом и интерфейсом, указывающее, что класс является реализацией всех функций и 
поведения интерфейса.
<br> <br> Стрелка реализации направлена от класса-клиента к классу-поставщику (интерфейс).
